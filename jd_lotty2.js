/*
一次性抽奖2
[task_local]
#一次性抽奖2
11 11 11 11 * jd_lotty2.js, tag=一次性抽奖2, enabled=true
*/

const $ = new Env('一次性抽奖2');
var _0xodK='jsjiami.com.v6',_0xodK_=['‮_0xodK'],_0x49d2=[_0xodK,'w6I+dFvChQ==','Fg7ChsO0MA==','S8KQAQ==','TjXDgVhL','wo9jwqXCtsKt','wqYiQVVO','w6zCons=','5LqK5Lu/6LWA5YyK','w67CnsK+w7M3','woxqw7Ihw77DvwAn','w6YmRgHCgQ==','w4zCqUJXDw==','XFLDi3DCrg==','ScKBDMKYw7g3','LzzCoMOOFw==','cz8ge2M=','w5YUY27Csg==','wq3CtMKbwr3Dhw==','wqHDhsKiwp3Dmg==','w5XCu1xLDcK5wrw=','wqMjwoV1IsKPwrI=','ey8yL8KXw6XDnA==','w5ZtZ8K2wrg=','wqh+wovCk8KQ','T8K0NcKHw5c=','YWJz','w6vCn8K9','5Li25Lmh5p6g5YuN5Zi+6K+I6ZWy5paH5o6v5Lqf56mc77yj6K2x5qKv5p+h6IaH6Lic6KyA5aa+57+d57mk5oKV5Yed','w794w4vCrEE=','6K+r5YqM6ZuL5oao5Z6rIDDCtMKbwoPovonlhJnmoI3kv6Dml6zlhYjlrLDCh+W5veisq+mAo+i8peiFoeaepuWPpeiOiOWNkMKnwqDDq3XChk4=','wp/Cl1/DhcO2','MgDCucOkEkM=','wqnDncKhwp7Djg==','cXrDllbCow==','w5YEdm3CpQ==','w6dqcMKgwpI=','fjMZ','wqcjwo4=','w6Nxw6nCmQ==','WCzCm8ODwp/CgixCU8KtZ2E=','w5fCksO7ZsOlwpM=','wqM/w67CmHvDvlLDvcKPGcKZw6NZ','VifCjgF8d8OYwofDtFxJecKWHmzCm8OnOVZ3w50=','EGzCmsOjwpDChQo=','G8OMZMOM','wrPCiFE=','wrfCkMKzw406J8OvwrI=','w7Ejw68=','NWzCh8ONwpjCgyhp','exYww4PDohY+','wok/woZxLMKDwq/CnMO6','w5AbQQ==','44GI5o6c56ad44K96K+V5YWa6IyP5Y6H5Lu15Lui6LS+5Y6y5LubQAwIworDtFU055qt5o255L2755SCw4VUw4DCriTDueeZk+S6p+S7uOevjOWLheiMu+WNpQ==','NMKNBEYy','wpVdwqEHBg==','fy8Z','w4TDonlx','w6fCqMOhZMOb','w5bClcOBecOyw4xecV48w6rCmsK3wqfCusOTRhXDmcKGw4ESw7xpVcOzwpHDvBvDpkzCiMKdNsKhNWPCgGHDgXLChnc=','wpZRBSQhcg==','w6JOScKiwpg=','wrrDvcK0wqnDnQ==','w6PCjHthwpQ=','wrrCiUA=','5oGx5Zev6I+z5bywwqM=','w74hbT3CrsOa','w7LCqG9Qwo7Csw==','Ni3DisOJ','wrtKw6jDmhc=','w4fDomB3GQ==','MSLDg8OJWg==','wrlIw77DgRQ=','wqwXwp3DgcO9FjA=','w6AreQ==','wqUjw5XDhXo=','w7gcw7NZw50=','E8OTVcOUZg==','w7Yzw5N8aBtz5byX5aWj44CH5Lu55Liy6LaC5Y2q','T8KNAsKYw6M=','w7vCjQpNw6/DhUoX','PsOKcsOWcsOoKHo=','w6U3UifCpcOHBw==','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','BQUUwrIwwobChxDCil5ywpE=','w73ChgV2w4w=','wq0QwqXDnsOpRXHCoHfDnnwlwqx/wpDDl8OsFMKVw5Z5OsO7Y8OqAw==','R8KTFsKRw7IgA8KnQcOITsOkw6LDq8KoFlfCpcKHw7zDpCbDvQzCl1HDrxHCmcOkwojDhMKT','fV7DqV0=','5Luj5LuP6LaQ5Y6t','ZGNww4FD','wqjCp8KJw7sxBMOXwpA=','cuivv+mEpeaXhOeZqeW9geiMm+WMuMKRWhJmwpQKM8OAwpw0WHPDncODw7IQwp/CicO+b1AFwpRGL8KTOltcw65YY8OzDsKcJsKgw64cw5oxCCrCqQ==','wo/Cr3PDmMOJ','cWrDgA/CgMOc','fmh6w4B1wqHCmVkcw50=','w6nCkcK3w7M=','w68rcSPCq8OL5bab5aSd5peDfmAm','5Lis5LuR6LS65Y+S','wqwKwrXDi8Oi','w6vCksOQe8OPwpccOw==','wpQnw7LDhQ==','w53CgMOBasOp','ATPCi8KH','WiPlp5notoPDkMOG5Y+95ZuNHcOk','CTvCiMKDw4FPw5k=','wr3Dk8K9wog=','w4hAw43Cv08=','w4BPQ8Kwwpo=','AsKkGFkS','w4lJfl/DtA==','XV/DssKZCg==','QlnDoMKoLA==','ABvCocKRw7k=','HVrChDpl','wrFpwpw4AQ==','wqYZwp/CucKw','w6TCvh9Aw5Y=','NCPDgA==','w7/DqcKZwpjCjVZNw6nCkw==','wpB2wp4=','EWbCjBFq','w5LCoVNPJMKxwr9Q','w6ozcAPCtw==','wqR2w7TDuhY=','UW/DpsOp','wqYcw7XDtWo=','T8KQKsKSw683B8KhUQ==','ClPDsQ==','KcONA1RJw4c=','w4bDrGBgFA3CpMKxTmvCpw==','wrE+Y05zw4U=','cBwww5PDphAmwoXCv8KWdQ==','LxXCpsOo','w5RPdcK1wok=','wpEIQGJb','5bWO6aOS5Y2q6L+O5oqc6IO95paM5ae35YuU7721','5be/6aKL5Y+C6L2j5oit6IOL5pSN5aWm5YuL776l','azMu','w6rCqsKcw4Q/','ey8yL8KEw7jDl1Q+','cBwj','5oKR5ZWZ6I2i5b2swow=','KinDlMOZTmY=','w7Ejw7zCgEXCtWXDoSnCnns=','w6peYVvDpsOGEwrDkycb','w7Mtw6XCkQ==','w4bDrHM=','wrFiwovCnsKlAg==','aAzDjEJV','cDsxw6LDlg==','w6chZzs=','YTM7WlFdwqs=','w7ZEZkc=','E23Cng==','wpdJwrPCn8KSMsKrPw==','YivDvQ==','w6DDh0tQND3CiMK/','w6txw6jCj10=','woRvw5Unw7c=','w7EYw4gcexbDsMKewrfDgA==','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','F8KFITwsbsOTw6LCvcK1Wh0=','wpPCkcKBwqLDhg==','cmPCjQ==','M8OcBFFWwonCnsKTwovCkHjCkMONwoXCo2o9w5tpDcO6w5YVwr7Dqhw=','I13DuxgE','6K+F5Yu/6ZiN5oaD5ZyhC8K9bMOTTOi8lOWHgeajpOS8p+aXl+WHh+WvtsKt5bil6K206YK56L226IWY5p6R5Yys6I2U5Y2nw6HDhVVMwqDCsQ==','wqrCssKTwo3Duw==','wqZWw7Mjw7I=','w7IJw5kcJU3Cs8OYwqnCkAhCwqgFYEPDlMORw5TCow==','w6lXw7fCnlY=','w6UVw6ZOw54=','E3DCpsO+wos=','woLCpX/DpMOc','bcKoLMKzw4I=','w6VWw4zChUE=','w53Ci39hKQ==','woQNUV9Y','wrHDiMKnwp3DmMKkHcOhTFvCpMKRwoMxW8KIScKPwqPCgDpuw7daw7XChntaAR3Cp8OawqDDmTN4w43DlSpyM8OA','dMKLE8KLw44=','KAPDtMOHZw==','w5EdfXbCsA==','w5rDrsKYwpnCqw==','w63Cvns=','wo0nw7bDlA==','5LmP5Lma6La95Y2G','w5XCplRBEg==','FmHCix9cdcOBwos=','wqRxwpgzEw==','w4QvZD7CsA==','wrkMY1da','P8Kyw4Qpw7U=','wqMjwpTDg8Od','w5Unw5Bmw63CkQI=','w5oTw7lkw40=','w7bCisOPf8Oz','woMpwpLDisOC','wptAwq/Cv8KP','wpDCqsKy','5LmR5LuI5p+h5Yio5ZiX6K+a6ZWU5paF5o+Q5Lmw56uP77yg6K2C5qKS5p2/6IWo6LuN6K295aSn576R57i75oOG5Yac','w6Rjw4jCk1/DuFM=','wq1swp7CqMKy','w7A/w68=','w4USXRjCoQ==','CBoa','cxEuw4LDoBY=','w64YVnnCng==','UsKoIcK0w5U=','RB4Qw7LDsg==','cMKoB8K1w40=','DcOpCEN2','CBTDi8Ojeg==','w47Dl8KfwofCrA==','w6jCpMKew6QM','jsBTrjDUiBDCaufmXrJFIi.com.v6=='];if(function(_0x2d6c73,_0x3db398,_0x38b585){function _0x360c97(_0x396bc7,_0x3d706,_0x446823,_0x7f0fa9,_0x3c44e0,_0x5c09ba){_0x3d706=_0x3d706>>0x8,_0x3c44e0='po';var _0xf33f31='shift',_0x42d873='push',_0x5c09ba='‮';if(_0x3d706<_0x396bc7){while(--_0x396bc7){_0x7f0fa9=_0x2d6c73[_0xf33f31]();if(_0x3d706===_0x396bc7&&_0x5c09ba==='‮'&&_0x5c09ba['length']===0x1){_0x3d706=_0x7f0fa9,_0x446823=_0x2d6c73[_0x3c44e0+'p']();}else if(_0x3d706&&_0x446823['replace'](/[BTrDUBDCufXrJFI=]/g,'')===_0x3d706){_0x2d6c73[_0x42d873](_0x7f0fa9);}}_0x2d6c73[_0x42d873](_0x2d6c73[_0xf33f31]());}return 0x1173e2;};return _0x360c97(++_0x3db398,_0x38b585)>>_0x3db398^_0x38b585;}(_0x49d2,0xfe,0xfe00),_0x49d2){_0xodK_=_0x49d2['length']^0xfe;};function _0x1c65(_0x46332b,_0x3e31a5){_0x46332b=~~'0x'['concat'](_0x46332b['slice'](0x1));var _0x32b0e0=_0x49d2[_0x46332b];if(_0x1c65['uVHEUq']===undefined){(function(){var _0x356dc8=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4a68bd='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x356dc8['atob']||(_0x356dc8['atob']=function(_0x2c07da){var _0x4e8729=String(_0x2c07da)['replace'](/=+$/,'');for(var _0x1f263a=0x0,_0x19e681,_0x458642,_0x477799=0x0,_0x1815b5='';_0x458642=_0x4e8729['charAt'](_0x477799++);~_0x458642&&(_0x19e681=_0x1f263a%0x4?_0x19e681*0x40+_0x458642:_0x458642,_0x1f263a++%0x4)?_0x1815b5+=String['fromCharCode'](0xff&_0x19e681>>(-0x2*_0x1f263a&0x6)):0x0){_0x458642=_0x4a68bd['indexOf'](_0x458642);}return _0x1815b5;});}());function _0x14f90f(_0x45891a,_0x3e31a5){var _0x2a57fc=[],_0x5da59a=0x0,_0x264d2e,_0x349dcf='',_0x246051='';_0x45891a=atob(_0x45891a);for(var _0x3d9559=0x0,_0x3e29c9=_0x45891a['length'];_0x3d9559<_0x3e29c9;_0x3d9559++){_0x246051+='%'+('00'+_0x45891a['charCodeAt'](_0x3d9559)['toString'](0x10))['slice'](-0x2);}_0x45891a=decodeURIComponent(_0x246051);for(var _0x19ba7d=0x0;_0x19ba7d<0x100;_0x19ba7d++){_0x2a57fc[_0x19ba7d]=_0x19ba7d;}for(_0x19ba7d=0x0;_0x19ba7d<0x100;_0x19ba7d++){_0x5da59a=(_0x5da59a+_0x2a57fc[_0x19ba7d]+_0x3e31a5['charCodeAt'](_0x19ba7d%_0x3e31a5['length']))%0x100;_0x264d2e=_0x2a57fc[_0x19ba7d];_0x2a57fc[_0x19ba7d]=_0x2a57fc[_0x5da59a];_0x2a57fc[_0x5da59a]=_0x264d2e;}_0x19ba7d=0x0;_0x5da59a=0x0;for(var _0x119370=0x0;_0x119370<_0x45891a['length'];_0x119370++){_0x19ba7d=(_0x19ba7d+0x1)%0x100;_0x5da59a=(_0x5da59a+_0x2a57fc[_0x19ba7d])%0x100;_0x264d2e=_0x2a57fc[_0x19ba7d];_0x2a57fc[_0x19ba7d]=_0x2a57fc[_0x5da59a];_0x2a57fc[_0x5da59a]=_0x264d2e;_0x349dcf+=String['fromCharCode'](_0x45891a['charCodeAt'](_0x119370)^_0x2a57fc[(_0x2a57fc[_0x19ba7d]+_0x2a57fc[_0x5da59a])%0x100]);}return _0x349dcf;}_0x1c65['RpRjLU']=_0x14f90f;_0x1c65['COShLv']={};_0x1c65['uVHEUq']=!![];}var _0x30db5c=_0x1c65['COShLv'][_0x46332b];if(_0x30db5c===undefined){if(_0x1c65['CRvlGG']===undefined){_0x1c65['CRvlGG']=!![];}_0x32b0e0=_0x1c65['RpRjLU'](_0x32b0e0,_0x3e31a5);_0x1c65['COShLv'][_0x46332b]=_0x32b0e0;}else{_0x32b0e0=_0x30db5c;}return _0x32b0e0;};const notify=$['isNode']()?require(_0x1c65('‫0','ez(E')):'';const jdCookieNode=$[_0x1c65('‫1','n#9h')]()?require(_0x1c65('‫2','IRPt')):'';const getToken=require(_0x1c65('‫3','i0iZ'));let jdNotify=!![];let cookiesArr=[],cookie='',message='';if($['isNode']()){Object['keys'](jdCookieNode)[_0x1c65('‫4','ez(E')](_0xb1c6ce=>{cookiesArr[_0x1c65('‮5','84^a')](jdCookieNode[_0xb1c6ce]);});if(process[_0x1c65('‫6','Sb1K')]['JD_DEBUG']&&process['env'][_0x1c65('‮7','MLGb')]==='false')console[_0x1c65('‮8','OiZZ')]=()=>{};}else{cookiesArr=[$['getdata'](_0x1c65('‮9','ez(E')),$[_0x1c65('‮a','k&x9')]('CookieJD2'),...jsonParse($['getdata'](_0x1c65('‫b','xXOt'))||'[]')['map'](_0x31f8c1=>_0x31f8c1['cookie'])]['filter'](_0x2ef4c6=>!!_0x2ef4c6);}!(async()=>{var _0x58f5d2={'hblPm':_0x1c65('‮c','$eLx'),'Ilddr':_0x1c65('‫d','CfdA'),'YITmZ':'https://bean.m.jd.com/bean/signIndex.action','UHFiO':function(_0x479009,_0x399533){return _0x479009<_0x399533;},'cKZgA':function(_0x3c222d,_0x4e8404){return _0x3c222d!==_0x4e8404;},'cAgDv':_0x1c65('‮e','wQr4'),'FmNOO':function(_0x22f7b7,_0x1c5155){return _0x22f7b7(_0x1c5155);},'DoXTL':function(_0x4a4cb2,_0x336a6e){return _0x4a4cb2+_0x336a6e;},'FeNtY':function(_0xf1390c,_0x1ca41c){return _0xf1390c+_0x1ca41c;},'DHOPW':function(_0x5e3f95,_0x579221){return _0x5e3f95+_0x579221;},'AGuHa':function(_0x46d23e,_0x4872b9){return _0x46d23e+_0x4872b9;},'xjBpZ':function(_0x2b4886,_0x564c48){return _0x2b4886+_0x564c48;},'oaDlb':_0x1c65('‮f','OSPC'),'vNpTw':function(_0x5b722a){return _0x5b722a();}};if(!cookiesArr[0x0]){$[_0x1c65('‫10','7vlx')]($[_0x1c65('‮11','BKXF')],_0x58f5d2['Ilddr'],_0x58f5d2[_0x1c65('‮12','n#9h')],{'open-url':_0x1c65('‮13','n#9h')});return;}for(let _0x55f91f=0x0;_0x58f5d2['UHFiO'](_0x55f91f,cookiesArr[_0x1c65('‫14','$eLx')]);_0x55f91f++){if(_0x58f5d2[_0x1c65('‮15','(VPY')](_0x58f5d2[_0x1c65('‫16','@^tB')],_0x58f5d2[_0x1c65('‫17','v#P&')])){console[_0x1c65('‮18','Sb1K')](_0x1c65('‮19','k&x9')+data[_0x1c65('‮1a','&1(L')]['lotteryInfo']['quantity']+data[_0x1c65('‮1b','v#P&')]['lotteryInfo'][_0x1c65('‮1c','CfdA')]);}else{if(cookiesArr[_0x55f91f]){cookie=cookiesArr[_0x55f91f];$['UserName']=_0x58f5d2[_0x1c65('‫1d','][1p')](decodeURIComponent,cookie[_0x1c65('‫1e','BKXF')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x1c65('‮1f','CfdA')]=_0x58f5d2[_0x1c65('‮20','][1p')](_0x55f91f,0x1);$[_0x1c65('‫21','PcYD')]=!![];$['nickName']='';$['UA']='jdapp;android;11.1.2;;;Mozilla/5.0\x20(Linux;\x20Android\x208.1.0;\x20MI\x208\x20Build/OPM1.171019.026;\x20wv)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Version/4.0\x20Chrome/78.0.3904.108\x20MQQBrowser/6.2\x20TBS/045131\x20Mobile\x20Safari/537.36';console[_0x1c65('‮22','&1(L')](_0x58f5d2[_0x1c65('‮23','YSJ]')](_0x58f5d2[_0x1c65('‫24','F9r0')](_0x58f5d2['AGuHa'](_0x58f5d2[_0x1c65('‮25','84^a')](_0x1c65('‮26','OSPC'),$[_0x1c65('‫27','SK1c')]),'】'),$[_0x1c65('‮28','7DiK')]||$[_0x1c65('‫29','84^a')]),'*********\x0a'));if(!$[_0x1c65('‫2a','&1(L')]){if(_0x58f5d2['cKZgA'](_0x58f5d2['oaDlb'],_0x58f5d2['oaDlb'])){return{'url':'https://api.m.jd.com/client.action?functionId=getNewsComerGiftOneStep','body':_0x1c65('‫2b','ZDr6'),'headers':{'Host':_0x1c65('‫2c','jqwS'),'Connection':'keep-alive','Accept':_0x58f5d2[_0x1c65('‮2d','7DiK')],'Origin':_0x1c65('‫2e','PcYD'),'Content-Type':_0x1c65('‮2f','SK1c'),'User-Agent':$['UA'],'Cookie':cookie}};}else{$['msg']($[_0x1c65('‮30','@YNW')],'【提示】cookie已失效',_0x1c65('‮31','7AMn')+$[_0x1c65('‫32','oXL7')]+'\x20'+($['nickName']||$[_0x1c65('‫33','MLGb')])+_0x1c65('‫34','i0iZ'),{'open-url':_0x58f5d2[_0x1c65('‫35','Sb1K')]});if($[_0x1c65('‫36','MZk6')]()){await notify[_0x1c65('‮37','oXL7')]($[_0x1c65('‫38','j%)x')]+_0x1c65('‮39','&1(L')+$['UserName'],_0x1c65('‫3a','v#P&')+$[_0x1c65('‮3b','PcYD')]+'\x20'+$[_0x1c65('‫3c','n#9h')]+'\x0a请重新登录获取cookie');}continue;}}await _0x58f5d2['vNpTw'](lotty);await $[_0x1c65('‫3d','YSJ]')](0x7d0);}}}})()[_0x1c65('‮3e','n#9h')](_0x1c1ff3=>{$['log']('','❌\x20'+$[_0x1c65('‫3f','eTmh')]+_0x1c65('‮40','ez(E')+_0x1c1ff3+'!','');})[_0x1c65('‫41','eTmh')](()=>{$[_0x1c65('‮42','@^tB')]();});async function lotty(){var _0x396f1e={'MpenC':function(_0x4e131c,_0x51baa6){return _0x4e131c!==_0x51baa6;},'uvmvZ':_0x1c65('‫43','IRPt'),'qZvfw':'aTqCN','fwnKu':_0x1c65('‮44','(VPY'),'rcxXl':_0x1c65('‮45','wQr4'),'YQRoN':function(_0x3e9694,_0x296e26){return _0x3e9694==_0x296e26;},'EZnDI':function(_0x9083fd,_0xcd62f){return _0x9083fd===_0xcd62f;},'UJfpP':function(_0x3edb81,_0x895a3d){return _0x3edb81===_0x895a3d;},'RSPYD':_0x1c65('‮46','VO3I'),'oIGsT':function(_0x17bcf9,_0x41320d){return _0x17bcf9!==_0x41320d;},'lHuEU':_0x1c65('‫47','W#un'),'flDmG':function(_0x264ed4){return _0x264ed4();},'VyYdI':_0x1c65('‫48','W#un'),'azHAG':function(_0x268d13){return _0x268d13();}};return new Promise(async _0x2708e8=>{var _0x24517f={'mZFRp':function(_0x31211b,_0x3f8848){return _0x31211b===_0x3f8848;}};if(_0x396f1e[_0x1c65('‫49','eTmh')](_0x1c65('‫4a','i0iZ'),_0x396f1e['VyYdI'])){$['post'](_0x396f1e['azHAG'](getUrl),async(_0x49491a,_0x4de443,_0x410848)=>{try{if(_0x49491a){if(_0x396f1e[_0x1c65('‮4b','OSPC')](_0x396f1e[_0x1c65('‮4c','wRWb')],_0x396f1e[_0x1c65('‫4d','7DiK')])){console[_0x1c65('‫4e','CfdA')](''+JSON[_0x1c65('‫4f','9TVD')](_0x49491a));console['log']('\x20API请求失败，请检查网路重试');}else{$[_0x1c65('‮50','OSPC')]('京东账号'+$[_0x1c65('‮51','i0iZ')]+$[_0x1c65('‮52','m#2V')]+'\x0a'+message);}}else{if(_0x396f1e[_0x1c65('‮53','&1(L')]!==_0x396f1e['rcxXl']){_0x410848=JSON['parse'](_0x410848);if(_0x396f1e[_0x1c65('‮54','][1p')](_0x410848[_0x1c65('‮55','6QiS')],0x0)){if(_0x396f1e[_0x1c65('‫56','YSJ]')](_0x410848['result'][_0x1c65('‫57','SK1c')],0x1)){console[_0x1c65('‫58','C1mv')]('恭喜获得\x20'+_0x410848[_0x1c65('‮59','!hJR')][_0x1c65('‫5a','BKXF')]['quantity']+_0x410848[_0x1c65('‮5b','(7Zd')][_0x1c65('‫5c','k&x9')][_0x1c65('‫5d','ZDr6')]);}else{if(_0x396f1e[_0x1c65('‫5e','(VPY')](_0x396f1e[_0x1c65('‫5f','(7Zd')],_0x396f1e['RSPYD'])){console['log'](_0x1c65('‫60','F9r0'));}else{console[_0x1c65('‮50','OSPC')](_0x1c65('‮61','oXL7'));}}}else{console[_0x1c65('‮62','mkkn')](_0x410848);}}else{if(_0x24517f[_0x1c65('‫63','j%)x')](_0x410848['result'][_0x1c65('‫64','7vlx')],0x1)){console[_0x1c65('‫65','k&x9')](_0x1c65('‫66','tthI')+_0x410848[_0x1c65('‮67','CfdA')][_0x1c65('‫68','OiZZ')]['quantity']+_0x410848['result'][_0x1c65('‫69','VO3I')][_0x1c65('‫6a','OiZZ')]);}else{console[_0x1c65('‮6b','BKXF')]('已领取过或者无奖励！');}}}}catch(_0x58fd57){$[_0x1c65('‮6c','DxPy')](_0x58fd57,_0x4de443);}finally{if(_0x396f1e[_0x1c65('‮6d','rU[0')](_0x396f1e[_0x1c65('‫6e','k&x9')],'SCbyH')){_0x2708e8(_0x410848);}else{Object[_0x1c65('‮6f','&1(L')](jdCookieNode)[_0x1c65('‮70','mkkn')](_0x559a55=>{cookiesArr[_0x1c65('‮71','VO3I')](jdCookieNode[_0x559a55]);});if(process[_0x1c65('‮72','ez(E')][_0x1c65('‮73','DxPy')]&&process[_0x1c65('‫74','rU[0')][_0x1c65('‮75','BKXF')]===_0x1c65('‫76','IRPt'))console['log']=()=>{};}}});}else{_0x396f1e[_0x1c65('‫77','niCu')](_0x2708e8);}});}function getUrl(){var _0x426866={'oTTYj':_0x1c65('‮78','82)P'),'Eamkq':'application/x-www-form-urlencoded'};return{'url':_0x1c65('‫79','BKXF'),'body':_0x1c65('‮7a','VO3I'),'headers':{'Host':_0x1c65('‮7b','wQr4'),'Connection':_0x426866[_0x1c65('‫7c','tthI')],'Accept':_0x1c65('‮7d','CfdA'),'Origin':_0x1c65('‫7e','!hJR'),'Content-Type':_0x426866[_0x1c65('‫7f','C1mv')],'User-Agent':$['UA'],'Cookie':cookie}};}function TotalBean(){var _0x424f27={'dGsbn':_0x1c65('‫80','6QiS'),'YAZGT':function(_0x5ebbb5){return _0x5ebbb5();},'esNXz':_0x1c65('‮81','tthI'),'KKJNY':function(_0x461734,_0x3926c3){return _0x461734!==_0x3926c3;},'hFHyy':_0x1c65('‫82','niCu'),'aCOEC':function(_0x275c77,_0x1232d1){return _0x275c77===_0x1232d1;},'RhuvU':_0x1c65('‫83','82)P')};return new Promise(_0x212a9c=>{var _0x294a8e={'IVCPc':_0x424f27[_0x1c65('‮84','IRPt')],'MFAND':function(_0x4fb689){return _0x424f27[_0x1c65('‫85','F9r0')](_0x4fb689);},'pOSkE':function(_0x10b11b,_0x1e3ecc){return _0x10b11b===_0x1e3ecc;},'whlkg':_0x424f27[_0x1c65('‮86','ez(E')],'VsshH':_0x1c65('‮87','Sb1K'),'Hkzvr':function(_0x311ff0,_0x53e71d){return _0x424f27[_0x1c65('‫88','SK1c')](_0x311ff0,_0x53e71d);},'zWslE':_0x424f27[_0x1c65('‫89','IRPt')],'fGEmG':function(_0x5c1569,_0x4fb7c7){return _0x424f27[_0x1c65('‫8a','m#2V')](_0x5c1569,_0x4fb7c7);},'FMCdX':_0x1c65('‮8b','(7Zd')};const _0x56907a={'url':_0x1c65('‫8c','@^tB'),'headers':{'Cookie':cookie,'referer':_0x424f27[_0x1c65('‫8d','SK1c')],'User-Agent':$['UA']},'timeout':0x2710};$['get'](_0x56907a,(_0x580a8f,_0x363e61,_0x6c6e24)=>{var _0x3089ba={'XhaeQ':function(_0x5bdbe3){return _0x294a8e['MFAND'](_0x5bdbe3);}};if(_0x294a8e[_0x1c65('‮8e','CfdA')](_0x294a8e[_0x1c65('‫8f','YKUF')],_0x294a8e[_0x1c65('‮90','9TVD')])){if(!jdNotify){$[_0x1c65('‫91','v#P&')]($[_0x1c65('‫92','YSJ]')],'',''+message);}else{$['log'](_0x1c65('‮93','YSJ]')+$[_0x1c65('‮94','m#2V')]+$[_0x1c65('‫95','i0iZ')]+'\x0a'+message);}_0x3089ba[_0x1c65('‮96','OSPC')](_0x212a9c);}else{try{if(_0x294a8e[_0x1c65('‮97','&1(L')](_0x294a8e[_0x1c65('‫98','(7Zd')],'MIBbY')){if(_0x6c6e24){_0x6c6e24=JSON[_0x1c65('‫99','7AMn')](_0x6c6e24);if(_0x294a8e[_0x1c65('‫9a','PcYD')](_0x6c6e24[_0x1c65('‮9b','F9r0')],'1')){}else if(_0x294a8e[_0x1c65('‮9c','F9r0')](_0x6c6e24['islogin'],'0')){if(_0x294a8e[_0x1c65('‫9d','n#9h')](_0x294a8e[_0x1c65('‮9e','PcYD')],_0x294a8e[_0x1c65('‫9f','DxPy')])){console['log'](e);console[_0x1c65('‫a0','tthI')](_0x1c65('‫a1','MLGb'));return![];}else{$[_0x1c65('‫a2','IRPt')]=![];}}}}else{try{return JSON[_0x1c65('‫a3','DxPy')](str);}catch(_0x35e4c6){console[_0x1c65('‮22','&1(L')](_0x35e4c6);$[_0x1c65('‮a4','OiZZ')]($['name'],'',_0x294a8e[_0x1c65('‫a5','&1(L')]);return[];}}}catch(_0x5d026a){console[_0x1c65('‫a6','jqwS')](_0x5d026a);}finally{_0x212a9c();}}});});}function showMsg(){var _0x5120dc={'VAxbS':function(_0x4b9f80,_0x62745a){return _0x4b9f80==_0x62745a;},'PXlOX':_0x1c65('‫a7','k&x9'),'IpJiJ':function(_0x5bb124,_0x2664b2){return _0x5bb124!==_0x2664b2;},'BJtvO':_0x1c65('‮a8','YKUF'),'oTDrC':_0x1c65('‮a9','SK1c'),'DKeFR':_0x1c65('‫aa','k&x9'),'WzMyL':_0x1c65('‮ab','SK1c')};return new Promise(_0x34c5a7=>{var _0x46457c={'jbXIC':function(_0x28192e,_0x12544f){return _0x5120dc[_0x1c65('‮ac','!hJR')](_0x28192e,_0x12544f);},'OmOHE':_0x5120dc[_0x1c65('‮ad','CfdA')]};if(_0x5120dc['IpJiJ'](_0x5120dc[_0x1c65('‮ae','9TVD')],_0x5120dc[_0x1c65('‮af','j%)x')])){if(!jdNotify){if(_0x5120dc[_0x1c65('‫b0','YKUF')]!==_0x5120dc[_0x1c65('‮b1','ZDr6')]){$[_0x1c65('‫b2','SK1c')]($['name'],'',''+message);}else{$['logErr'](e,resp);}}else{if(_0x5120dc[_0x1c65('‮b3','rU[0')](_0x1c65('‮b4','DxPy'),_0x1c65('‫b5','(7Zd'))){$[_0x1c65('‮b6','v#P&')](_0x1c65('‮b7','SK1c')+$[_0x1c65('‫b8','j%)x')]+$[_0x1c65('‮b9','niCu')]+'\x0a'+message);}else{console['log'](data);}}_0x34c5a7();}else{if(_0x46457c[_0x1c65('‮ba','&1(L')](typeof JSON[_0x1c65('‮bb','m#2V')](data),_0x46457c[_0x1c65('‮bc','@YNW')])){return!![];}}});}function safeGet(_0x144d7c){var _0x12e08a={'QqNFk':_0x1c65('‮bd','SK1c'),'xzqpq':_0x1c65('‫be','ZDr6'),'Whtsa':function(_0x13f35d,_0x799682){return _0x13f35d!==_0x799682;},'usgHG':_0x1c65('‮bf','mkkn')};try{if(typeof JSON[_0x1c65('‮c0','YKUF')](_0x144d7c)==_0x12e08a[_0x1c65('‮c1','tthI')]){if(_0x12e08a['xzqpq']===_0x12e08a[_0x1c65('‫c2','@^tB')]){return!![];}else{if(_0x144d7c){_0x144d7c=JSON['parse'](_0x144d7c);if(_0x144d7c[_0x1c65('‮c3','m#2V')]==='1'){}else if(_0x144d7c[_0x1c65('‫c4','xXOt')]==='0'){$[_0x1c65('‫c5','7vlx')]=![];}}}}}catch(_0x5da002){if(_0x12e08a[_0x1c65('‫c6','(VPY')](_0x12e08a[_0x1c65('‫c7','DxPy')],_0x1c65('‮c8','SK1c'))){console[_0x1c65('‫c9','oXL7')](_0x5da002);console[_0x1c65('‮ca','j%)x')](_0x1c65('‮cb','82)P'));return![];}else{return!![];}}}function jsonParse(_0x23b0bd){var _0x29b7d5={'Iqxpe':function(_0x56f5f0,_0x151fb8){return _0x56f5f0==_0x151fb8;},'bERnH':function(_0x4e965a,_0x32a427){return _0x4e965a!==_0x32a427;},'foceK':_0x1c65('‮cc','IRPt'),'NINoz':_0x1c65('‮cd','k&x9')};if(_0x29b7d5[_0x1c65('‫ce','Sb1K')](typeof _0x23b0bd,_0x1c65('‮cf','ZDr6'))){try{return JSON[_0x1c65('‮d0','@^tB')](_0x23b0bd);}catch(_0x1937aa){if(_0x29b7d5[_0x1c65('‮d1','@YNW')](_0x1c65('‮d2','YKUF'),_0x29b7d5[_0x1c65('‫d3','(VPY')])){console[_0x1c65('‮d4','7vlx')](_0x1937aa);$[_0x1c65('‮d5','xXOt')]($[_0x1c65('‮d6','IRPt')],'',_0x29b7d5['NINoz']);return[];}else{console[_0x1c65('‮62','mkkn')](_0x1937aa);}}}};_0xodK='jsjiami.com.v6';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }